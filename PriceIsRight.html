<div id="app" style="text-align: center;"></div>
<script>
	const reduceNumber = (n) => {
		if(n < 10){return n;}
		return reduceNumber(n / 10)
	}
</script>
<script>
	fetch('https://api.coingecko.com/api/v3/coins/bitcoin')
		.then(r => r.json())
		.then(j => {
			const currentPricesObj = j.market_data.current_price;
			const currentPricesLength = Object.values(currentPricesObj).length;
			const sortedPrices = [];
			for(let i = 0; i < currentPricesLength; i+=1){
				const satsToBTC = 10**8;
				sortedPrices.push({
					key: Object.keys(currentPricesObj)[i],
					value: reduceNumber(Object.values(currentPricesObj)[i])
				});
			}
			sortedPrices.sort((a, b) => {
				  if (a.value < b.value) {
				    return -1;
				  }
				  if (a.value > b.value) {
				    return 1;
				  }
				  return 0;
			});
			const divs = sortedPrices.map(x => `<div>${x.key} ${x.value.toLocaleString()}</div>`);
			document.getElementById('app').innerHTML = divs.join('<hr />')
			console.log(divs.join(''));
		})
</script>